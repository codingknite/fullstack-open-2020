(this.webpackJsonpphonebook=this.webpackJsonpphonebook||[]).push([[0],{15:function(e,n,t){e.exports=t(37)},37:function(e,n,t){"use strict";t.r(n);var a=t(0),r=t.n(a),u=t(13),c=t.n(u),o=t(14),l=t(2),i=t(3),m=t.n(i),d="api/persons",f=function(){return m.a.get(d).then((function(e){return e.data}))},b=function(e){return m.a.post(d,e).then((function(e){return e.data}))},s=function(e,n){return m.a.put("".concat(d,"/").concat(e),n).then((function(e){return e.data}))},p=function(e){return m.a.delete("".concat(d,"/").concat(e)).then((function(e){return e.data}))},h=function(e){var n=e.nameFilter,t=e.filterHandler;return r.a.createElement("form",{onSubmit:n},r.a.createElement("div",null,"Filter Names By: ",r.a.createElement("input",{onChange:t})))},E=function(e){var n=e.header;return r.a.createElement("h2",null,n)},v=function(e){var n=e.submitHandler,t=e.nameValue,a=e.numberValue,u=e.personHandler,c=e.numberHandler;return r.a.createElement("form",{onSubmit:n},r.a.createElement("div",null,"name: ",r.a.createElement("input",{value:t,onChange:u})),r.a.createElement("div",null,"Number: ",r.a.createElement("input",{value:a,onChange:c})),r.a.createElement("div",null,r.a.createElement("button",{type:"submit"},"add")))},g=function(e){var n=e.name;if(null===n)return null;return r.a.createElement("div",{style:{border:"2px solid green",padding:8,backgroundColor:"gray"}},r.a.createElement("p",{style:{color:"green"}},n))},j=function(){var e=Object(a.useState)([]),n=Object(l.a)(e,2),t=n[0],u=n[1],c=Object(a.useState)(""),i=Object(l.a)(c,2),m=i[0],d=i[1],j=Object(a.useState)(""),O=Object(l.a)(j,2),k=O[0],w=O[1],y=Object(a.useState)(""),C=Object(l.a)(y,2),H=C[0],S=C[1],N=Object(a.useState)(null),V=Object(l.a)(N,2),D=V[0],F=V[1];Object(a.useEffect)((function(){f().then((function(e){u(e)}))}),[]);var x=function(){return t.filter((function(e){return e.name.toLowerCase().includes(H.toLowerCase())}))},A=x();return r.a.createElement("div",null,r.a.createElement(E,{header:"Phonebook"}),r.a.createElement(g,{name:D}),r.a.createElement(h,{nameFilter:x,filterHandler:function(e){S(e.target.value)}}),r.a.createElement(E,{header:"Add New Contact"}),r.a.createElement(v,{submitHandler:function(e){e.preventDefault();var n,a=t.map((function(e){return e.name})),r=t.map((function(e){return e.number}));a.includes(m)||r.includes(k)?window.confirm("".concat(m," is already added in the phonebook, replace the old number?"))&&(t.map((function(e){e.name!==m&&e.number!==k||(n=e.id)})),s(n,{name:m,number:k}).then((function(e){t.map((function(n){if(n.name===e.name){var a=n.id;Object(o.a)({},t)[a-1].number=e.number}}))}))):b({name:m,number:k}).then((function(e){u(t.concat(e)),F("Added ".concat(e.name))})).catch((function(e){F("".concat(e))}))},nameValue:m,numberValue:k,personHandler:function(e){d(e.target.value)},numberHandler:function(e){w(e.target.value)}}),r.a.createElement(E,{header:"Numbers"}),A.map((function(e){return r.a.createElement("p",{key:e.name},e.name," - ",e.number," ",r.a.createElement("button",{value:e.name,onClick:(n=e.id,t=e.name,function(){window.confirm("Delete ".concat(t," ?"))&&p(n)})},"Delete"));var n,t})))};c.a.render(r.a.createElement(j,null),document.getElementById("root"))}},[[15,1,2]]]);
//# sourceMappingURL=main.e1882283.chunk.js.map